databaseChangeLog:
  - changeSet:
      id: gift-fk-updates-1
      author: gavinkillough
      changes:
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gifts
            constraintName: gifts_requesting_user_id_fk
        - addForeignKeyConstraint:
            constraintName: gifts_requesting_user_id_fk
            baseTableSchemaName: portal
            baseTableName: gifts
            baseColumnNames: requesting_user_id
            referencedTableSchemaName: portal
            referencedTableName: users
            referencedColumnNames: user_id
            onDelete: RESTRICT
            onUpdate: CASCADE
            validate: true
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gifts
            constraintName: gifts_contact_id_fk
        - addForeignKeyConstraint:
            constraintName: gifts_contact_id_fk
            baseTableSchemaName: portal
            baseTableName: gifts
            baseColumnNames: contact_id
            referencedTableSchemaName: portal
            referencedTableName: organization_account_contacts
            referencedColumnNames: contact_id
            onDelete: RESTRICT
            onUpdate: CASCADE
            validate: true

  - changeSet:
      id: gift-fk-updates-2
      author: gavinkillough
      changes:
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_org_account_restrictions
            constraintName: gift_org_acct_restrictions_gift_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_org_acct_restrictions_gift_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_org_account_restrictions
            baseColumnNames: gift_id
            referencedTableSchemaName: portal
            referencedTableName: gifts
            referencedColumnNames: gift_id
            onDelete: CASCADE
            onUpdate: CASCADE
            validate: true
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_org_account_restrictions
            constraintName: gift_org_acct_restrictions_org_account_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_org_acct_restrictions_org_account_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_org_account_restrictions
            baseColumnNames: organization_account_id
            referencedTableSchemaName: portal
            referencedTableName: organization_accounts
            referencedColumnNames: organization_account_id
            onDelete: RESTRICT
            onUpdate: CASCADE
            validate: true

  - changeSet:
      id: gift-fk-updates-3
      author: gavinkillough
      changes:
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_user_restrictions
            constraintName: gift_user_restrictions_gift_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_user_restrictions_gift_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_user_restrictions
            baseColumnNames: gift_id
            referencedTableSchemaName: portal
            referencedTableName: gifts
            referencedColumnNames: gift_id
            onDelete: CASCADE
            onUpdate: CASCADE
            validate: true
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_user_restrictions
            constraintName: gift_user_restrictions_user_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_user_restrictions_user_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_user_restrictions
            baseColumnNames: user_id
            referencedTableSchemaName: portal
            referencedTableName: users
            referencedColumnNames: user_id
            onDelete: RESTRICT
            onUpdate: CASCADE
            validate: true

  - changeSet:
      id: gift-fk-updates-4
      author: gavinkillough
      changes:
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_note_details
            constraintName: gift_note_detail_gift_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_note_detail_gift_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_note_details
            baseColumnNames: gift_id
            referencedTableSchemaName: portal
            referencedTableName: gifts
            referencedColumnNames: gift_id
            onDelete: CASCADE
            onUpdate: CASCADE
            validate: true
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_note_details
            constraintName: gift_note_detail_note_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_note_detail_note_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_note_details
            baseColumnNames: note_id
            referencedTableSchemaName: portal
            referencedTableName: notes
            referencedColumnNames: note_id
            onDelete: RESTRICT
            onUpdate: CASCADE
            validate: true

  - changeSet:
      id: gift-fk-updates-5
      author: gavinkillough
      changes:
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_item_details
            constraintName: gift_item_detail_gift_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_item_detail_gift_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_item_details
            baseColumnNames: gift_id
            referencedTableSchemaName: portal
            referencedTableName: gifts
            referencedColumnNames: gift_id
            onDelete: CASCADE
            onUpdate: CASCADE
            validate: true
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_item_details
            constraintName: gift_item_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_item_detail_item_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_item_details
            baseColumnNames: item_id
            referencedTableSchemaName: portal
            referencedTableName: catalogue_items
            referencedColumnNames: item_id
            onDelete: RESTRICT
            onUpdate: CASCADE
            validate: true

  - changeSet:
      id: gift-fk-updates-6
      author: gavinkillough
      changes:
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_custom_icon_details
            constraintName: gift_custom_icon_details_gift_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_custom_icon_details_gift_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_custom_icon_details
            baseColumnNames: gift_id
            referencedTableSchemaName: portal
            referencedTableName: gifts
            referencedColumnNames: gift_id
            onDelete: CASCADE
            onUpdate: CASCADE
            validate: true
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_custom_icon_details
            constraintName: gift_custom_icon_details_custom_icon_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_custom_icon_details_custom_icon_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_custom_icon_details
            baseColumnNames: custom_icon_id
            referencedTableSchemaName: portal
            referencedTableName: custom_icons
            referencedColumnNames: custom_icon_id
            onDelete: RESTRICT
            onUpdate: CASCADE
            validate: true

  - changeSet:
      id: gift-fk-updates-7
      author: gavinkillough
      changes:
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_custom_text_details
            constraintName: gift_custom_text_details_gift_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_custom_text_details_gift_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_custom_text_details
            baseColumnNames: gift_id
            referencedTableSchemaName: portal
            referencedTableName: gifts
            referencedColumnNames: gift_id
            onDelete: CASCADE
            onUpdate: CASCADE
            validate: true
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_custom_text_details
            constraintName: gift_custom_text_details_custom_text_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_custom_text_details_custom_text_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_custom_text_details
            baseColumnNames: custom_text_id
            referencedTableSchemaName: portal
            referencedTableName: custom_branding_texts
            referencedColumnNames: custom_branding_text_id
            onDelete: RESTRICT
            onUpdate: CASCADE
            validate: true

  - changeSet:
      id: gift-fk-updates-8
      author: gavinkillough
      changes:
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_tracking
            constraintName: gift_tracking_gift_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_tracking_gift_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_tracking
            baseColumnNames: gift_id
            referencedTableSchemaName: portal
            referencedTableName: gifts
            referencedColumnNames: gift_id
            onDelete: CASCADE
            onUpdate: CASCADE
            validate: true
        - dropForeignKeyConstraint:
            baseTableSchemaName: portal
            baseTableName: gift_tracking
            constraintName: gift_tracking_updated_by_user_id_fk
        - addForeignKeyConstraint:
            constraintName: gift_tracking_updated_by_user_id_fk
            baseTableSchemaName: portal
            baseTableName: gift_tracking
            baseColumnNames: updated_by_user_id
            referencedTableSchemaName: portal
            referencedTableName: users
            referencedColumnNames: user_id
            onDelete: RESTRICT
            onUpdate: CASCADE
            validate: true
